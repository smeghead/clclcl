# CLCLCL

CLCLCL - クリップボード履歴ツール

JavaVM上で動作するクリップボード履歴ツールです。ターゲットOSは、Ubuntuですが、Windows上で動作させることも可能です。

# インストール方法

## ダウンロード

http://sourceforge.net/projects/clclcl/ から最新版バイナリをダウンロードします。
ダウンロードしたファイルを解凍すると、ディレクトリが作成され、そのディレクトリ内に以下のようなファイルが含まれています。


    ChangeLog
    README
    clclcl
    clclcl-menu-open
    clclcl-standalone.jar
    clclcl.bat
    logging.properties


## 配置

作成されたディレクトリを、任意のディレクトリ(/usr/local/ の下など)にコピーします。


# 実行方法

## CLCLCLのディレクトリ内の clclcl というシェルスクリプトを実行してく
   ださい。

実行されると、システムトレイ内にCLCLCLのアイコンが表示されます。起動後、クリップボードを監視し履歴を保存します。

## システムトレイのCLCLCLのアイコンをクリックすると、メニューが表示さ
   れます。

クリップボード履歴
:    履歴の項目を選択すると、選択した文字列をクリップボードにコピーします。

テンプレート文字列メニュー
:    初期は空になっていると思います。

終了
:    exitを選択するとCLCLCLを終了します。

# 設定する。(Ubuntuの場合)

## 自動起動の設定

システム→設定→自動起動するアプリを選択し、自動起動するアプリの設定ウィンドウを開きます。
追加ボタンで、CLCLCLを登録します。コマンドは、<CLCLCLインストールディレクトリ>/clclcl を指定します。

## キーバインドの設定

グローバルキーバインドを設定して、キーボードだけで、CLCLCLのメニューを表示する設定です。メニューを開くキーバインドを利用しない場合は
設定する必要がありません。
システム→設定→キーボード・ショートカットを選択しキーボードショートカットの
設定ウィンドウを開きます。
追加ボタンで独自のショートカットキーを追加します。名前は、CLCLCL Menu Open。コマンドは、
<clclclインストールディレクトリ>/clclcl-menu-open を指定します。
追加したショートカットのショートカットのキーをクリックして、Alt+1 などのキーを押します。

## 動作設定

いくつかの項目を設定することにより、CLCLCLの動作を設定できるようになっています。
動作設定ファイルは、$HOME/.clclcl/clclcl.conf です。

    {:list-max 30,
     :font-name "VL Pゴシック",
     :font-size 12,
     :watch-interval 3000,
     :server-port 10000}

設定項目          |概要                                               |デフォルト値
------------------------------------------------------------------------------------
:list-name        |メニューに表示するクリップボードの履歴の項目数     |30
:font-name        |メニューのフォント名                               |VL ゴシック
:font-size        |メニューのフォントサイズ                           |12
:watch-interval   |クリップボードを監視する間隔(ミリ秒)               |3000
:server-port      |メニューを開くキーバインドに利用する受付ポート番号 |10000

## テンプレート文字列の設定

テンプレート文字列の設定方法です。
テンプレート文字列の定義ファイルは、$HOME/.clclcl/templates.clj です。

    [
     {:name "メールアドレス" :data "smeghead@example.com"}
     {:name "foo" :data "huga"}
     "test"
     {:name "今日の日付" :data (fn [] (.. (java.text.SimpleDateFormat. "yyyy/MM/dd") (format (java.util.Date.))))}
     {:name "ハロー" :data (fn [] (. javax.swing.JOptionPane (showMessageDialog nil "hello"))))}
    ]


ClojureのVector形式で指定します。テンプレート文字列の各要素は、文字列または、:nameと:dataを含むMapを指定します。
Mapで指定する場合の:data に指定する値は、文字列またはclojureの関数です。
例えば、以下の要素を定義しておいて、テンプレート文字列から「今日の日付」を選択すると、その時に(fn [] ...)の部分が評価され、
評価した結果である日付文字列がクリップボードにコピーされます。

    {:name "今日の日付" :data (fn [] (.. (java.text.SimpleDateFormat. "yyyy/MM/dd") (format (java.util.Date.))))}


## 高度な使い方

# キーバインドを利用する。

メニューを開くキーバインドの他に、メニューを開いた後、以下のキーバインドが利用できます。

キーバインド |動作
--------------------------------------------
j            |選択項目を下に移動する
k            |選択項目を上に移動する
h            |選択項目を左に移動する
l            |選択項目を右に移動する
Ctrl-m       |選択を確定する
Ctrl-[       |メニューを閉じる(キャンセル)



